<%= render 'layouts/errors', obj: @shipping_address %>

<h2>配送先登録/一覧</h2>

<!--shipping_addressに送信する-->
<%= form_with model: @shipping_address do |f| %>

  <div>
    <%= f.label :"郵便番号(ハイフンなし)" %>
    <%= f.text_field :shipping_post_code, autofocus: true%>
  </div>

  <div>
    <%= f.label :"住所" %>
    <%= f.text_field :shipping_address, autofocus: true%>
  </div>

  <div>
    <%= f.label :"宛名" %>
    <%= f.text_field :shipping_name, autofocus: true %>
  </div>

  <div><%= f.submit "新規登録" %></div>
<% end %>

<table class="table table-hover table-inverse table-bordered">

  <thead>
    <tr>
      <th>郵便番号</th>
      <th>住所</th>
      <th>宛名</th>
    </tr>
  </thead>

  <tbody>
    <% @shipping_addresses.each do |address| %>
    <tr>
      <!--郵便番号-->
      <td><%= address.shipping_post_code %></td>

      <!--住所-->
      <td><%= address.shipping_address %></td>

      <!--宛名-->
      <td><%= address.shipping_name %></td>

      <!--editページへ飛ぶ-->
      <td><%= link_to "編集", edit_shipping_address_path(address.id), class:"btn btn-success px-4 mb-2" %></td>

      <!--配送先を削除する-->
      <td>
        <%= button_to "削除", shipping_address_path(address.id), method: :delete,
        "data-confirm" => "本当に削除しますか？" ,class:"btn btn-success px-4 mb-2" %>
      </td>
    </tr>
    <% end %>
  </tbody>

</table>